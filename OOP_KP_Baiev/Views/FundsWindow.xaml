<Window x:Class="OOP_KP_Baiev.Views.FundsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:OOP_KP_Baiev.Converters"
        Title="Керування коштами"
        Width="480" Height="460"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="Transparent">
    
    <Window.Resources>
        <local:EmptyTextToVisibilityConverter x:Key="EmptyTextToVisibilityConverter"/>
    </Window.Resources>

    <Grid>
        <Border Background="White"
                CornerRadius="12"
                Padding="20"
                Width="440"
                Height="420"
                VerticalAlignment="Center"
                HorizontalAlignment="Center">
            <Border.Effect>
                <DropShadowEffect BlurRadius="15" ShadowDepth="2" Opacity="0.25" Color="Black"/>
            </Border.Effect>

            <StackPanel>
                <TextBlock Text="Керування коштами"
                           FontSize="22"
                           FontWeight="Bold"
                           Foreground="#1F2937"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,10"/>

                <TabControl x:Name="FundsTabControl" Background="White" BorderThickness="0" SelectionChanged="FundsTabControl_SelectionChanged">
                    <TabItem Header="Поповнення">
                        <StackPanel Margin="15">
                            <Grid>
                                <TextBox x:Name="CardNumberTopUpTextBox"/>
                                <TextBlock Text="Номер картки"
                                           Margin="5,0,0,0"
                                           Foreground="Gray"
                                           VerticalAlignment="Center"
                                           IsHitTestVisible="False"
                                           Visibility="{Binding Text, ElementName=CardNumberTopUpTextBox, Converter={StaticResource EmptyTextToVisibilityConverter}}"/>
                            </Grid>
                            <TextBlock x:Name="CardErrorText" Foreground="Red" FontSize="12" Margin="0,2,0,8"/>

                            <Grid>
                                <TextBox x:Name="CVVTextBox"/>
                                <TextBlock Text="CVV"
                                           Margin="5,0,0,0"
                                           Foreground="Gray"
                                           VerticalAlignment="Center"
                                           IsHitTestVisible="False"
                                           Visibility="{Binding Text, ElementName=CVVTextBox, Converter={StaticResource EmptyTextToVisibilityConverter}}"/>
                            </Grid>
                            <TextBlock x:Name="CVVErrorText" Foreground="Red" FontSize="12" Margin="0,2,0,8"/>

                            <Grid>
                                <TextBox x:Name="ExpiryDateTextBox"
                                         PreviewTextInput="ExpiryDateTextBox_PreviewTextInput"
                                         TextChanged="ExpiryDateTextBox_TextChanged"/>
                                <TextBlock Text="MM/YY"
                                           Margin="5,0,0,0"
                                           Foreground="Gray"
                                           VerticalAlignment="Center"
                                           IsHitTestVisible="False"
                                           Visibility="{Binding Text, ElementName=ExpiryDateTextBox, Converter={StaticResource EmptyTextToVisibilityConverter}}"/>
                            </Grid>
                            <TextBlock x:Name="ExpiryErrorText" Foreground="Red" FontSize="12" Margin="0,2,0,8"/>

                            <Grid>
                                <TextBox x:Name="AmountTopUpTextBox"/>
                                <TextBlock Text="Сума поповнення"
                                           Margin="5,0,0,0"
                                           Foreground="Gray"
                                           VerticalAlignment="Center"
                                           IsHitTestVisible="False"
                                           Visibility="{Binding Text, ElementName=AmountTopUpTextBox, Converter={StaticResource EmptyTextToVisibilityConverter}}"/>
                            </Grid>
                            <TextBlock x:Name="AmountTopUpErrorText" Foreground="Red" FontSize="12" Margin="0,2,0,8"/>

                            <Button Content="Поповнити"
                                    Click="Deposit_Click"
                                    Background="#10B981"
                                    Foreground="White"
                                    FontWeight="SemiBold"
                                    BorderThickness="0"
                                    Cursor="Hand"
                                    Margin="0,15,0,0"
                                    Height="35"
                                    Width="120"
                                    HorizontalAlignment="Center">
                                <Button.Template>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}" CornerRadius="8">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Button.Template>
                            </Button>
                        </StackPanel>
                    </TabItem>

                    <TabItem Header="Виведення">
                        <StackPanel Margin="15">
                            <Grid>
                                <TextBox x:Name="WithdrawCardTextBox"/>
                                <TextBlock Text="Номер картки"
                                           Margin="5,0,0,0"
                                           Foreground="Gray"
                                           VerticalAlignment="Center"
                                           IsHitTestVisible="False"
                                           Visibility="{Binding Text, ElementName=WithdrawCardTextBox, Converter={StaticResource EmptyTextToVisibilityConverter}}"/>
                            </Grid>
                            <TextBlock x:Name="WithdrawCardErrorText" Foreground="Red" FontSize="12" Margin="0,2,0,8"/>

                            <Grid>
                                <TextBox x:Name="AmountWithdrawTextBox"/>
                                <TextBlock Text="Сума"
                                           Margin="5,0,0,0"
                                           Foreground="Gray"
                                           VerticalAlignment="Center"
                                           IsHitTestVisible="False"
                                           Visibility="{Binding Text, ElementName=AmountWithdrawTextBox, Converter={StaticResource EmptyTextToVisibilityConverter}}"/>
                            </Grid>
                            <TextBlock x:Name="AmountWithdrawErrorText" Foreground="Red" FontSize="12" Margin="0,2,0,8"/>

                            <Button Content="Вивести"
                                    Click="Withdraw_Click"
                                    Background="#EF4444"
                                    Foreground="White"
                                    FontWeight="SemiBold"
                                    BorderThickness="0"
                                    Cursor="Hand"
                                    Margin="0,15,0,0"
                                    Height="35"
                                    Width="120"
                                    HorizontalAlignment="Center">
                                <Button.Template>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}" CornerRadius="8">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Button.Template>
                            </Button>
                        </StackPanel>
                    </TabItem>
                </TabControl>
            </StackPanel>
        </Border>
    </Grid>
</Window>
